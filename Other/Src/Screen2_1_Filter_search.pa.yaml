# ************************************************************************************************
# Warning: YAML source code for Canvas Apps should only be used to review changes made within Power Apps Studio and for minor edits (Preview).
# Use the maker portal to create and edit your Power Apps.
# 
# The schema file for Canvas Apps is available at https://go.microsoft.com/fwlink/?linkid=2304907
# 
# For more information, visit https://go.microsoft.com/fwlink/?linkid=2292623
# ************************************************************************************************
Screens:
  Screen2_1_Filter/search:
    Properties:
      LoadingSpinnerColor: =RGBA(56, 96, 178, 1)
      OnVisible: |+
        =ClearCollect(
            Header,
            {
                Description: "Leave Description",
                LeaveType: "Leave Type",
                SelectType: "Planned / UnPlanned",
                Manager: "Manager",
                SD: "Start Date",
                ED: "End Date",
                Days: "No Of Days",
                LeaveStatus: "Leave Status",
                Dept: "Department",
                Action: "Action"
            }
        );

        ClearCollect(
            LeaveType,
            {Value:"All Leaves"},
            Choices([@Leaves].Leave_Type)
        );
        ClearCollect(
            DeptChoices,
            {Value: "All Departments"},
            Choices([@Leaves].Department)
        );
        ClearCollect(
            StatusChoices,
            {Value: "All Statuses"},
            Choices([@Leaves].Leave_Status)
        );
        ClearCollect(
            SelectChoices,
            {Value: "All Types"},
            Choices([@Leaves].Select_Type)
        );

    Children:
      - RectQuickActionBar1_1:
          Control: Rectangle@2.3.0
          Properties:
            BorderColor: =RGBA(0, 18, 107, 1)
            Fill: =RGBA(56, 96, 178, 1)
            Height: =88
            Width: =Parent.Width
      - LblAppName1_1:
          Control: Label@2.5.1
          Properties:
            Align: =Align.Center
            BorderColor: =RGBA(0, 0, 0, 1)
            Color: =RGBA(255, 255, 255, 1)
            Font: =Font.'Lato Black'
            Height: =88
            Size: =32
            Text: ="View My Application"
            Width: =Parent.Width
      - Canvas1_1:
          Control: FluidGrid@2.3.0
          Properties:
            BorderThickness: =0
            Height: =Parent.Height - Self.Y
            Width: =Parent.Width
            Y: =RectQuickActionBar1_1.Y + RectQuickActionBar1_1.Height
          Children:
            - DataCard1_1:
                Control: DataCard@1.0.2
                Properties:
                  Height: =Parent.Height - 100
                  Width: =Parent.Width
                  X: =0
                  Y: =0
                Children:
                  - Gallery3_1:
                      Control: Gallery@2.15.0
                      Variant: Vertical
                      Properties:
                        BorderColor: =RGBA(0, 18, 107, 1)
                        Height: =86
                        Items: =Header
                        TemplateSize: =67
                        Width: =1287
                        X: =32
                        Y: =92
                      Children:
                        - Label20_1:
                            Control: Label@2.5.1
                            Properties:
                              BorderColor: =RGBA(0, 18, 107, 1)
                              Fill: =RGBA(215, 223, 240, 1)
                              Font: =Font.'Lato Black'
                              OnSelect: =Select(Parent)
                              Text: =ThisItem.Description
                              Y: =27
                        - Label21_1:
                            Control: Label@2.5.1
                            Properties:
                              BorderColor: =RGBA(0, 18, 107, 1)
                              Fill: =RGBA(215, 223, 240, 1)
                              Font: =Font.'Lato Black'
                              OnSelect: =Select(Parent)
                              Text: =ThisItem.SelectType
                              X: =107
                              Y: =27
                        - Label22_1:
                            Control: Label@2.5.1
                            Properties:
                              BorderColor: =RGBA(0, 18, 107, 1)
                              Fill: =RGBA(215, 223, 240, 1)
                              Font: =Font.'Lato Black'
                              OnSelect: =Select(Parent)
                              Text: =ThisItem.LeaveStatus
                              X: =250
                              Y: =27
                        - Label23_1:
                            Control: Label@2.5.1
                            Properties:
                              BorderColor: =RGBA(0, 18, 107, 1)
                              Fill: =RGBA(215, 223, 240, 1)
                              Font: =Font.'Lato Black'
                              OnSelect: =Select(Parent)
                              Text: =ThisItem.Manager
                              X: =400
                              Y: =27
                        - Label24_1:
                            Control: Label@2.5.1
                            Properties:
                              BorderColor: =RGBA(0, 18, 107, 1)
                              Fill: =RGBA(215, 223, 240, 1)
                              Font: =Font.'Lato Black'
                              OnSelect: =Select(Parent)
                              Text: =ThisItem.SD
                              X: =501
                              Y: =27
                        - Label25_1:
                            Control: Label@2.5.1
                            Properties:
                              BorderColor: =RGBA(0, 18, 107, 1)
                              Fill: =RGBA(215, 223, 240, 1)
                              Font: =Font.'Lato Black'
                              OnSelect: =Select(Parent)
                              Text: =ThisItem.ED
                              X: =629
                              Y: =27
                        - Label26_1:
                            Control: Label@2.5.1
                            Properties:
                              BorderColor: =RGBA(0, 18, 107, 1)
                              Fill: =RGBA(215, 223, 240, 1)
                              Font: =Font.'Lato Black'
                              OnSelect: =Select(Parent)
                              Text: =ThisItem.Days
                              X: =733
                              Y: =27
                        - Label27_1:
                            Control: Label@2.5.1
                            Properties:
                              BorderColor: =RGBA(0, 18, 107, 1)
                              Fill: =RGBA(215, 223, 240, 1)
                              Font: =Font.'Lato Black'
                              OnSelect: =Select(Parent)
                              Text: =ThisItem.LeaveType
                              X: =872
                              Y: =27
                        - Label28_1:
                            Control: Label@2.5.1
                            Properties:
                              BorderColor: =RGBA(0, 18, 107, 1)
                              Fill: =RGBA(215, 223, 240, 1)
                              Font: =Font.'Lato Black'
                              OnSelect: =Select(Parent)
                              Text: =ThisItem.Dept
                              X: =1002
                              Y: =27
                        - Label29_1:
                            Control: Label@2.5.1
                            Properties:
                              BorderColor: =RGBA(0, 18, 107, 1)
                              Fill: =RGBA(215, 223, 240, 1)
                              Font: =Font.'Lato Black'
                              OnSelect: =Select(Parent)
                              Text: =ThisItem.Action
                              Width: =125
                              X: =1152
                              Y: =27
                  - TextInputSearch:
                      Control: Classic/TextInput@2.3.2
                      Properties:
                        BorderColor: =RGBA(0, 18, 107, 1)
                        Default: =
                        Font: =Font.'Open Sans'
                        HintText: ="Search Description"
                        HoverBorderColor: =RGBA(0, 18, 107, 1)
                        HoverFill: =RGBA(186, 202, 226, 1)
                        X: =40
                        Y: =40
                  - DropdownLeave_Type:
                      Control: Classic/DropDown@2.3.1
                      Properties:
                        BorderColor: =RGBA(0, 18, 107, 1)
                        ChevronBackground: =RGBA(56, 96, 178, 1)
                        ChevronFill: =RGBA(255, 255, 255, 1)
                        ChevronHoverBackground: =ColorFade(RGBA(56, 96, 178, 1), -20%)
                        ChevronHoverFill: =RGBA(255, 255, 255, 1)
                        Font: =Font.'Open Sans'
                        HoverFill: =RGBA(186, 202, 226, 1)
                        Items: =LeaveType
                        Items.Value: =Value
                        PressedColor: =RGBA(255, 255, 255, 1)
                        PressedFill: =RGBA(0, 18, 107, 1)
                        SelectionColor: =RGBA(255, 255, 255, 1)
                        SelectionFill: =RGBA(56, 96, 178, 1)
                        Width: =200
                        X: =387
                        Y: =40
                  - DropdownSelect_Type:
                      Control: Classic/DropDown@2.3.1
                      Properties:
                        BorderColor: =RGBA(0, 18, 107, 1)
                        ChevronBackground: =RGBA(56, 96, 178, 1)
                        ChevronFill: =RGBA(255, 255, 255, 1)
                        ChevronHoverBackground: =ColorFade(RGBA(56, 96, 178, 1), -20%)
                        ChevronHoverFill: =RGBA(255, 255, 255, 1)
                        Font: =Font.'Open Sans'
                        HoverFill: =RGBA(186, 202, 226, 1)
                        Items: =SelectChoices
                        Items.Value: =Value
                        PressedColor: =RGBA(255, 255, 255, 1)
                        PressedFill: =RGBA(0, 18, 107, 1)
                        SelectionColor: =RGBA(255, 255, 255, 1)
                        SelectionFill: =RGBA(56, 96, 178, 1)
                        Width: =200
                        X: =614
                        Y: =40
                  - DropdownDepartment:
                      Control: Classic/DropDown@2.3.1
                      Properties:
                        BorderColor: =RGBA(0, 18, 107, 1)
                        ChevronBackground: =RGBA(56, 96, 178, 1)
                        ChevronFill: =RGBA(255, 255, 255, 1)
                        ChevronHoverBackground: =ColorFade(RGBA(56, 96, 178, 1), -20%)
                        ChevronHoverFill: =RGBA(255, 255, 255, 1)
                        Font: =Font.'Open Sans'
                        HoverFill: =RGBA(186, 202, 226, 1)
                        Items: =DeptChoices
                        Items.Value: =Value
                        PressedColor: =RGBA(255, 255, 255, 1)
                        PressedFill: =RGBA(0, 18, 107, 1)
                        SelectionColor: =RGBA(255, 255, 255, 1)
                        SelectionFill: =RGBA(56, 96, 178, 1)
                        Width: =200
                        X: =846
                        Y: =40
                  - DropdownLeave_Status:
                      Control: Classic/DropDown@2.3.1
                      Properties:
                        BorderColor: =RGBA(0, 18, 107, 1)
                        ChevronBackground: =RGBA(56, 96, 178, 1)
                        ChevronFill: =RGBA(255, 255, 255, 1)
                        ChevronHoverBackground: =ColorFade(RGBA(56, 96, 178, 1), -20%)
                        ChevronHoverFill: =RGBA(255, 255, 255, 1)
                        Font: =Font.'Open Sans'
                        HoverFill: =RGBA(186, 202, 226, 1)
                        Items: =StatusChoices
                        Items.Value: =Value
                        PressedColor: =RGBA(255, 255, 255, 1)
                        PressedFill: =RGBA(0, 18, 107, 1)
                        SelectionColor: =RGBA(255, 255, 255, 1)
                        SelectionFill: =RGBA(56, 96, 178, 1)
                        Width: =200
                        X: =1088
                        Y: =40
                  - Gallery1_1:
                      Control: Gallery@2.15.0
                      Variant: Vertical
                      Properties:
                        BorderColor: =RGBA(0, 18, 107, 1)
                        Height: =346
                        Items: |
                          =Filter(
                              Leaves,
                              // Leave Type filter
                              Substitute(DropdownLeave_Type.Selected.Value, "All Leaves", "") in Leave_Type.Value,

                              // Department filter
                              Substitute(DropdownDepartment.Selected.Value, "All Departments", "") in Department.Value,

                              // Leave Status filter
                              Substitute(DropdownLeave_Status.Selected.Value, "All Statuses", "") in Leave_Status.Value,

                              // Planned/Unplanned (Types)
                              If(
                                  DropdownSelect_Type.Selected.Value = "All Types",
                                  true,
                                  DropdownSelect_Type.Selected.Value = Select_Type.Value
                              ),

                              // Search box
                              Or(
                                  TextInputSearch.Text in Title,
                                  TextInputSearch.Text in Manager.DisplayName
                              ),
                              'Created By'.Email = User().Email
                          )
                        TemplateSize: =94
                        Width: =1298
                        X: =32
                        Y: =199
                      Children:
                        - Label1_1:
                            Control: Label@2.5.1
                            Properties:
                              BorderColor: =RGBA(0, 18, 107, 1)
                              Font: =Font.'Open Sans'
                              OnSelect: =Select(Parent)
                              Text: =ThisItem.Title
                              Y: =40
                        - Label2_1:
                            Control: Label@2.5.1
                            Properties:
                              BorderColor: =RGBA(0, 18, 107, 1)
                              Font: =Font.'Open Sans'
                              OnSelect: =Select(Parent)
                              Text: =ThisItem.Select_Type.Value
                              X: =150
                              Y: =40
                        - Label3_1:
                            Control: Label@2.5.1
                            Properties:
                              BorderColor: =RGBA(0, 18, 107, 1)
                              Font: =Font.'Open Sans'
                              OnSelect: =Select(Parent)
                              Text: =ThisItem.Leave_Status.Value
                              X: =284
                              Y: =40
                        - Label5_1:
                            Control: Label@2.5.1
                            Properties:
                              BorderColor: =RGBA(0, 18, 107, 1)
                              Font: =Font.'Open Sans'
                              OnSelect: =Select(Parent)
                              Text: =ThisItem.Manager.DisplayName
                              X: =424
                              Y: =40
                        - Label4_1:
                            Control: Label@2.5.1
                            Properties:
                              BorderColor: =RGBA(0, 18, 107, 1)
                              Font: =Font.'Open Sans'
                              OnSelect: =Select(Parent)
                              Text: =ThisItem.Start_Date
                              X: =516
                              Y: =40
                        - Label6_1:
                            Control: Label@2.5.1
                            Properties:
                              BorderColor: =RGBA(0, 18, 107, 1)
                              Font: =Font.'Open Sans'
                              OnSelect: =Select(Parent)
                              Text: =ThisItem.End_Date
                              X: =631
                              Y: =40
                        - Label7_1:
                            Control: Label@2.5.1
                            Properties:
                              BorderColor: =RGBA(0, 18, 107, 1)
                              Font: =Font.'Open Sans'
                              OnSelect: =Select(Parent)
                              Text: =ThisItem.'No Of Days'
                              X: =749
                              Y: =40
                        - Label8_1:
                            Control: Label@2.5.1
                            Properties:
                              BorderColor: =RGBA(0, 18, 107, 1)
                              Font: =Font.'Open Sans'
                              OnSelect: =Select(Parent)
                              Text: =ThisItem.Leave_Type.Value
                              X: =849
                              Y: =40
                        - Label9_1:
                            Control: Label@2.5.1
                            Properties:
                              BorderColor: =RGBA(0, 18, 107, 1)
                              Font: =Font.'Open Sans'
                              OnSelect: =Select(Parent)
                              Text: =ThisItem.Department.Value
                              X: =999
                              Y: =40
                        - Button4_1:
                            Control: Classic/Button@2.2.0
                            Properties:
                              BorderColor: =ColorFade(Self.Fill, -15%)
                              Color: =RGBA(255, 255, 255, 1)
                              DisabledBorderColor: =RGBA(166, 166, 166, 1)
                              Fill: =RGBA(56, 96, 178, 1)
                              Font: =Font.'Open Sans'
                              HoverBorderColor: =ColorFade(Self.BorderColor, 20%)
                              HoverColor: =RGBA(255, 255, 255, 1)
                              HoverFill: =ColorFade(RGBA(56, 96, 178, 1), -20%)
                              OnSelect: =Select(Parent)
                              PressedBorderColor: =Self.Fill
                              PressedColor: =Self.Fill
                              PressedFill: =Self.Color
                              Text: ="Edit"
                              X: =1097
                              Y: =40
